# 模型迭代 1 

## 回顾模型目标
描述一个距离区间的统计意义上的拥堵程度，特点涵盖：  
1. **涵盖**一段距离（路段）的**多半车辆**的速度信息
2. 对于测得的**速度信息**作统计值
3. 考虑到路段上的车辆数目
4. 将速度数据**压缩**到一个区间，即与一个标准常量作**比值**
5. 遵循KISS原则
   

>在初代模型中，我们将某段时间内 **所有** 速度数据作简单平均，并且除以距离。

$\eta = k \bar{v}\\
k=\frac{N}{D}=\frac{N}{\sum si}=\frac{1}{\frac{1}{N}\sum si}=\frac{1}{\bar{s}}\\
\bar{v}=\frac{1}{N}\sum{u^{s}_{i}}$  
（部分表达式取自《干线道路与数学建模理论与方法》重庆大学出版社 付立家等）
## 初代模型的问题
1. 考虑到目标模型需要涵盖整条路段的，车辆在某些情况下过于**集中**，导致模型结果不能代表整条路段的拥堵程度。
2. 简单的把区间所有数据（这里指**速度**）作算术平均，会导致模型受**极端值**的影响，从而降低系统鲁棒性

>遂引入[**Wardrop的匀质离散型交通流模型**]()为基础的区间均速估计方法  
**上面链接没找到原paper，有门路的提供下**
## 新模型

### idea（去掉了大量数学演算，只做简单说明）
1. 把不均匀的**交通流**按照速度划分为若干**速度相同**的子交通流
   1. 比如，我有一条路,其上总交通流$S$
   2. 将$S$划分为若干不同的$S_i$，每个$S_i$的速度相同（所有$1km/h$ 的车辆分一个$S_1$）
   3. 车辆视作质点运动
   4. （修改）不考虑司机的跟车、超车等行为模式（将在以后的项目进程中考虑）
2. **子交通流**任意时间的密度$k_i$可以表示为

<font size='5'>$k_i = (\frac{u_i}{q_i})^{-1}=\frac{q_i}{u_i}$</font>  
$q_i=u_ik_i$

 **说明：**  
> $q_i$ 是子交通流$S_i$在**一定时间**（比如一小时）内通过定点的车辆个数，即以子交通流$S_i$的标准速度$u_i$经过**观测点**的车辆数目  
当然，在**系统实现**中是**全部测速**，但是在后台计算中先将**对象**按照车速分开

3.  由此可以得到：$k =\sum{k_i}$总交通流$S$的密度
4.  可以得到某样本车到达测速点的车速为$u_i$的概率为：

$p_s(i)=Prob\{u=u_i\}=\frac{k_i}{k}$

5. 因此得到车速期望值(统计平均值)：

$\bar{u}_s=E(u_{s}) =\sum_{1}^{C}u_ip_s(i)=\sum_{1}^{C}\frac{u_ik_i}{k}\\
\bar u_{s} =\sum^{C}_{1}q_i/k\\
\bar u_s = q/k\\
\varepsilon=\bar \frac{u_s}{u}$

总结：
1. 在书上的该模型采用航拍形式采集数据，导致**每一瞬间涵盖的道路不够长**
2. 而基于GPS的移动众包采集的新形式，由于测定次数可以增加，测定点同样可以增加，即可以有效避免问题1的产生.
3. 在实现过程中，可以增加采集点，更换速度区分**粒度**（比如1m/s改成2m/s）  


**不足：**

1. 跟驰模型、司机变道行为等尚未加入考虑范围，导致系统鲁棒性可能不足
2. 不考虑交通事故等因素等情况，**样本点集中于某一测速点或测速点外**导致描述性较差（样本点数据不能代表整条路段数据）
3. ...（请组员补充）

***

## 问题解决：  
### 问题2: 
   >对于问题2，上述模型的问题在于，若是用设置观测点的形式测瞬时速度，难免出现样本集中的问题
### 解决方案
   1. 用计时方式发送，系统**每隔一段时间**进行
      1. 速度测算
      2. 按速度筛分子交通流
      3. 计算路段平均速度
      4. 计算路段拥堵状况
   2. 方案的核心在于，找出合适的**时间间隔**
      1. 于此，将查阅一些论文文献后，再进行方案更深入的探讨 

